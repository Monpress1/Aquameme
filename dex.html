<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Aquam | Swap </title>

<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://widget.ston.fi/v0/index.js"></script>

<style>
    :root { 
        --bg: #0b111b; 
        --card: #131b29; 
        --border: #1e293b; 
        --text: #ffffff; 
        --subtext: #94a3b8; 
        --primary: #3b82f6; 
    }
    main { 
    padding-bottom: 140px; 
}

    body { 
        background: var(--bg); 
        color: var(--text); 
        font-family: 'Manrope', sans-serif; 
        -webkit-tap-highlight-color: transparent; 
        margin: 0; 
        padding-bottom: 100px;
    }

    .card-bg { 
        background: var(--card); 
        border: 1px solid var(--border); 
        border-radius: 1.5rem; 
        overflow: hidden;
    }

    /* Wiggle Animation: Fast-Fast-Slow-Pause */
    @keyframes wiggle-pro {
        0%, 20%, 40%, 100% { transform: rotate(0); }
        5% { transform: rotate(20deg); }
        10% { transform: rotate(-20deg); }
        15% { transform: rotate(20deg); }
        25% { transform: rotate(8deg); }
        35% { transform: rotate(-8deg); }
    }
    .wiggle-icon { animation: wiggle-pro 3.5s infinite ease-in-out; display: inline-block; }

    /* Nav Styling */
    .nav-item { color: var(--subtext); display: flex; flex-direction: column; align-items: center; font-size: 0.65rem; gap: 4px; font-weight: 700; cursor: pointer; transition: 0.2s; }
    .nav-item.active { color: var(--primary); }
    .nav-item i { font-size: 1.2rem; }

    #omniston {
        --omniston-bg: var(--card);
        --omniston-container-bg: var(--card);
        --omniston-primary: var(--primary);
        --omniston-text-primary: #ffffff;
        --omniston-text-secondary: var(--subtext);
        --omniston-border-color: var(--border);
    }
</style>
</head>

<body class="select-none">

<header class="px-5 py-4 flex justify-between items-center sticky top-0 z-40 border-b border-gray-800/30" style="background-color: var(--bg)">
  <div class="flex items-center gap-3">
    <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-blue-500/20">A</div>
    <div>
      <div class="font-extrabold text-lg tracking-tight">Aquam</div>
      <div id="status" class="text-[10px] font-bold text-gray-500 uppercase tracking-widest flex items-center gap-2">
        <i class="fa-solid fa-circle text-[6px] text-green-500 animate-pulse"></i> Active
      </div>
    </div>
  </div>
  
  <div class="flex items-center gap-2">
      <button onclick="openHelp()" class="w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center border border-blue-500/20 text-blue-400">
        <i class="fa-solid fa-circle-question text-lg wiggle-icon"></i>
      </button>
  </div>
</header>

<main class="p-4 space-y-6">
  
  <div class="card-bg p-2 shadow-2xl">
    <div id="omniston"></div>
  </div>

  <div class="card-bg p-5 flex items-center gap-4 border-dashed border-blue-500/30 bg-blue-500/5">
    <div class="w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400">
        <i class="fa-solid fa-shield-halved text-xl"></i>
    </div>
    <div>
        <p class="font-bold text-sm text-white">Secure Routing</p>
        <p class="text-xs text-gray-400">Transactions are executed directly on the TON blockchain.</p>
    </div>
  </div>

</main>

<div id="helpModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm">
    <div class="bg-[#131b29] w-full max-w-sm p-6 rounded-3xl border border-gray-800 shadow-2xl">
        <h3 class="font-bold text-lg mb-4 text-white">How to Swap</h3>
        <ul class="space-y-4 text-sm text-gray-400 font-medium">
            <i class="fa-solid fa-lightbulb wiggle-icon text-yellow-400" style="font-size:22.7px;"></i>
            
            <li class="flex gap-3"><span class="text-blue-500 font-bold">1.</span> Connect your wallet.</li>
            <li class="flex gap-3"><span class="text-blue-500 font-bold">2.</span> Click "Select Asset" on the bottom field.</li>
            <li class="flex gap-3"><span class="text-blue-500 font-bold">3.</span> Search and select AQUAM.</li>
            <li class="flex gap-3"><span class="text-blue-500 font-bold">4.</span> Input the amount you want to convert.</li>
        </ul>
        <button onclick="closeHelp()" class="w-full mt-8 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-lg shadow-blue-500/30 active:scale-95 transition-all">GOT IT</button>
    </div>
</div>

<nav class="fixed bottom-0 left-0 right-0 backdrop-blur-xl border-t border-gray-800/40 px-4 flex justify-between items-center z-10 h-[85px]" style="background: rgba(11, 17, 27, 0.9)">
    
    <div onclick="location.href='index.html'" class="nav-item">
        <i class="fa-solid fa-house-chimney"></i>
        <span>Home</span>
    </div>
    <div onclick="location.href='s2w.html'" class="nav-item">
        <i class="fa-solid fa-clover"></i>
        <span>Spin2Win</span>
    </div>
    <div onclick="location.href='dex.html'" class="nav-item active">
        <i class="fa-solid fa-arrows-rotate"></i>
        <span>Dex</span>
    </div>
    <div onclick="location.href='p2p.html'" class="nav-item">
        <i class="fa-solid fa-handshake"></i>
        <span>P2P</span>
    </div>
    <div onclick="location.href='market.html'" class="nav-item">
        <i class="fa-solid fa-shopping-cart"></i>
        <span>Market</span>
    </div>
</nav>

<script>
  function openHelp() { document.getElementById('helpModal').classList.remove('hidden'); }
  function closeHelp() { document.getElementById('helpModal').classList.add('hidden'); }

  /* Initialize Omniston Widget with Default Pair */
  const widget = new window.OmnistonWidget({
    tonconnect: {
      type: "standalone",
      options: {
        // Ensure this URL is live and contains valid JSON! 
        // If this URL returns a 404, you'll get that "Failed to" error.
        manifestUrl: "https://aquameme.vercel.app/tonconnect-manifest.json"
      }
    },
    widget: {
      // TON is correct as "EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c"
      defaultBidAsset: "EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM9c", 
      
      // BOSS: Replace the address below with your actual AQUAM Jetton Master Contract Address
      // If EQC4R... is your wallet, it WILL cause that JSON error.
      defaultAskAsset: "EQA71L6_7UY_aENYSZ_cfbFyUz8SsufxTWyN5Ac80BtX8W9d", 
      
      referrerAddress: "UQC4RmumETyDDKR1IaM8CST_pHeTFBdzgRqAj96TTM2J8w1D",
      referrerFeeBps: 100 
    }
  });

  widget.mount(document.getElementById("omniston"));
</script>


</body>
</html>

